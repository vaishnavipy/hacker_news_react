[{"/Users/vaishnaviravichandran/Desktop/React/hacker-news/src/index.js":"1","/Users/vaishnaviravichandran/Desktop/React/hacker-news/src/App.js":"2","/Users/vaishnaviravichandran/Desktop/React/hacker-news/src/content.js":"3","/Users/vaishnaviravichandran/Desktop/React/hacker-news/src/commentSection.js":"4","/Users/vaishnaviravichandran/Desktop/React/hacker-news/src/favoriteContext.js":"5","/Users/vaishnaviravichandran/Desktop/React/hacker-news/src/story.js":"6","/Users/vaishnaviravichandran/Desktop/React/hacker-news/src/favorite.js":"7","/Users/vaishnaviravichandran/Desktop/React/hacker-news/src/calculateTime.js":"8"},{"size":583,"mtime":1610059003386,"results":"9","hashOfConfig":"10"},{"size":3107,"mtime":1610139919816,"results":"11","hashOfConfig":"10"},{"size":1948,"mtime":1610140154023,"results":"12","hashOfConfig":"10"},{"size":2761,"mtime":1610137387346,"results":"13","hashOfConfig":"10"},{"size":1430,"mtime":1610125225267,"results":"14","hashOfConfig":"10"},{"size":1061,"mtime":1610125661925,"results":"15","hashOfConfig":"10"},{"size":812,"mtime":1610123490036,"results":"16","hashOfConfig":"10"},{"size":609,"mtime":1610124670199,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"1wr3zia",{"filePath":"21","messages":"22","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"20"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26","usedDeprecatedRules":"20"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"20"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34","usedDeprecatedRules":"20"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"20"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"/Users/vaishnaviravichandran/Desktop/React/hacker-news/src/index.js",[],["41","42"],"/Users/vaishnaviravichandran/Desktop/React/hacker-news/src/App.js",["43","44","45","46"],"\nimport './App.css';\nimport {Link,Switch,Route} from \"react-router-dom\"\nimport Content from \"./content\"\nimport { useContext, useEffect, useState } from 'react';\nimport CommentSection from \"./commentSection\";\nimport {FavoriteContext} from \"./favoriteContext\"\n\n\nfunction App() {\n\n  const {storyArr} = useContext(FavoriteContext)\n\n  const [news,setNews] = useState([])\n  const [popular,setPopular] = useState([])\n  const [ask,setAsk] = useState([])\n  const [show,setShow] = useState([])\n  \n\n  const links = [\n    \"https://hn.algolia.com/api/v1/search_by_date?tags=story&hitsPerPage=30\",\n   \"https://hn.algolia.com/api/v1/search?&hitsPerPage=30\",\n   \"http://hn.algolia.com/api/v1/search_by_date?tags=ask_hn&hitsPerPage=30&numericFilters=num_comments>3\",\n   \"http://hn.algolia.com/api/v1/search_by_date?tags=show_hn&hitsPerPage=30&numericFilters=num_comments>3\"\n  ]\n   \n\n  \n  const menuElements = document.querySelectorAll(\".menu\")\n\n  useEffect(()=>{\n\n    links.forEach((elm,i) => {\n      fetch(elm)\n      .then(response => response.json())\n      .then(data => {\n\n        if(i==0){\n          setNews(data.hits)\n        }else if(i == 1){\n          setPopular(data.hits)\n        }else if(i==2){\n          setAsk(data.hits)\n        }else{\n          setShow(data.hits)\n        } \n\n\n      })\n     \n\n    })\n\n   \n\n  },[])\n\n  function loadMore(data,selectedMenu){\n    if(selectedMenu === \"latest\"){\n      setNews(data)\n    }else if(selectedMenu === \"popular\"){\n      setPopular(data)\n    }else if(selectedMenu === \"ask\"){\n      setAsk(data)\n    }else if(selectedMenu === \"show\"){\n      setShow(data)\n    }\n  }\n\n  function handleClick(event){\n    \n    if(event.target.classList.contains(\"menu\")){\n\n      menuElements.forEach(elm => elm.classList.remove(\"active\"))\n\n      event.target.classList.add(\"active\")\n\n    /*  fetch(links[event.target.id])\n      .then(response => response.json())\n      .then(data => setNews(data.hits)) */\n    }\n  \n  } \n\n\n\n\n\n  return (\n    <div className=\"app-container\">\n\n      <div className=\"header\"  onClick={handleClick}>\n        <h2 className=\"logo\">HackerNews</h2>\n      <Link to=\"/\">  <div className=\"menu active\" id=\"latest\">New</div></Link>\n      <Link to=\"/popular\"><div className=\"menu\" id=\"popular\">Popular</div></Link>\n      <Link to=\"/ask\"><div className=\"menu\" id=\"ask\">Ask</div></Link>\n      <Link to=\"/show\"><div className=\"menu\" id=\"show\">Show</div></Link>\n      <Link to=\"/favorites\"><div className=\"menu\" id=\"favorites\">Favorites</div></Link>\n      </div>\n\n      <Switch>\n        <Route exact path=\"/\">  <Content news={news} loadMore={loadMore} menu=\"latest\"/> </Route>\n        <Route path=\"/popular\"><Content news={popular} loadMore={loadMore} menu=\"popular\"/></Route>\n        <Route path=\"/ask\"><Content news={ask} loadMore={loadMore} menu=\"ask\"/></Route>\n        <Route path=\"/show\"><Content news={show} loadMore={loadMore} menu=\"show\"/></Route>\n        <Route path=\"/favorites\"><Content news={storyArr} loadMore={loadMore} menu=\"\"/></Route>\n        <Route path=\"/item/id=:itemID\"><CommentSection /></Route>\n\n      </Switch>\n      \n    </div>\n\n  );\n}\n\nexport default App;\n","/Users/vaishnaviravichandran/Desktop/React/hacker-news/src/content.js",["47","48","49"],"import React, { useContext, useEffect } from \"react\"\nimport { useState } from \"react/cjs/react.development\";\nimport Favorite from \"./favorite\";\nimport {FavoriteContext} from \"./favoriteContext\"\nimport Story from \"./story\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\n\n\n\nfunction Content({news,loadMore,menu}){\n    const [content,setContent] = useState(\"\")\n    \n    const {fillObjectIdArr} = useContext(FavoriteContext)\n\n    const [noOfStories,setNoOfStories] = useState(60)\n    \n    const links = {\n        latest : `https://hn.algolia.com/api/v1/search_by_date?tags=story&hitsPerPage=${noOfStories}`  ,\n      popular : `https://hn.algolia.com/api/v1/search?&hitsPerPage=${noOfStories}`,\n       ask : `http://hn.algolia.com/api/v1/search_by_date?tags=ask_hn&hitsPerPage=${noOfStories}&numericFilters=num_comments>3`,\n      show : `http://hn.algolia.com/api/v1/search_by_date?tags=show_hn&hitsPerPage=${noOfStories}&numericFilters=num_comments>3`\n    } \n      \n\n    useEffect(()=>{\n        if(news){\n\n        setContent(news.map((data,i) => {\n\n           fillObjectIdArr({objectID:data.objectID,favorite:false})\n\n            if(data.url ){\n           let start = data.url.indexOf(\"//\") \n            var site =  data.url.slice(start+2)\n           let end =  site.indexOf(\"/\")\n            site = site.slice(0,end)}\n             return  <Story data ={data} site={site} i={i}/>\n            }))\n        \n        }\n    },[news])\n\n    function fetchMoreData(){\n           \n        fetch( links[menu])\n            .then(response => response.json())\n            .then(data => loadMore(data.hits,menu))\n\n            setNoOfStories(prevState => Number(prevState)+30)    \n\n        }\n\n\n    return(<div>\n         <InfiniteScroll\n          dataLength={news.length}\n          next={fetchMoreData}\n          hasMore={true}\n          loader={<h4></h4>}\n        >\n        {content}\n        </InfiniteScroll>\n    </div>)\n}\nexport default Content;\n\n\n\n\n","/Users/vaishnaviravichandran/Desktop/React/hacker-news/src/commentSection.js",["50","51","52","53","54","55","56"],"import React from \"react\"\nimport {useParams} from \"react-router-dom\";\nimport { useContext, useEffect, useState } from \"react/cjs/react.development\";\nimport {FavoriteContext} from \"./favoriteContext\"\nimport Story from \"./story\"\nimport calculateTime from \"./calculateTime\"\nimport Favorite from \"./favorite\"\nimport {Link} from \"react-router-dom\"\n\nfunction CommentSection(){\n\n    const {itemID}  = useParams();\n    const {commentStoryArr,getCommentStory} = useContext(FavoriteContext)\n\n    const [data,site,i] = commentStoryArr;\n\n    const [commentsArr,setCommentsArr] = useState(\"\")\n\n    const [comment,setComment] = useState(\"\")\n\n\n    useEffect(()=>{\n        if(itemID){\n\n            fetch(`https://hn.algolia.com/api/v1/search?tags=comment,story_${itemID}`)\n            .then(response => response.json())\n            .then(data => setCommentsArr(data.hits))\n        }\n    },[])\n    \n\n\n    function handleShowComments(){\n        getCommentStory(data,site,i)\n    }\n\n  \n    useEffect(()=>{\n        let final=[] ;\n        if(commentsArr){\n            let allParents = commentsArr.filter(elm => elm.parent_id == itemID).map(elm => elm.objectID)\n           console.log(allParents,\"hi\")\n            allParents.forEach(parent => {\n\n              final = [...final,...commentsArr.filter(elm => elm.objectID == parent).map(elm => <CommentComponent comment={elm} margin=\"2em\"/> )]\n\n              final = [...final,...commentsArr.filter(elm => elm.parent_id == parent ).map(elm => {\n                   \n                       \n\n                        return <CommentComponent comment={elm} margin=\"5em\"/>\n                    \n                })\n            ]\n\n            \n\n           }) \n           \n           \n        setComment(final)\n            \n        }\n    },[commentsArr])\n\n\n    console.log(commentsArr)\n    console.log(comment,\"comment\")\n\n    return(\n    <div className=\"comment-container\">\n         <div>\n            <h3 className=\"title \">   <a href={data.url} target=\"_blank\">  {data.title} </a><span className=\"website\">{site }</span></h3>\n            <p className=\"details\">\n                {data.points} by {data.author} {calculateTime(data.created_at)} |\n              <Link to={`/item/id=${data.objectID}`}>  <span className=\"comments\" id=\"comment\" onClick={handleShowComments}> {data.num_comments} comments </span> </Link> |\n             <Favorite storyId={data.objectID} fullStory={data} />\n            </p>\n            <hr />\n        </div>\n        {comment}\n    </div>)\n}\n\nfunction CommentComponent({comment,margin}){\n    return(\n    <div style={{marginLeft:margin}}>\n        <h3 className=\"comment-author\">{comment.author} | {calculateTime(comment.created_at)} </h3>\n        <p>{comment.comment_text}</p>\n    </div>)\n}\nexport default CommentSection\n","/Users/vaishnaviravichandran/Desktop/React/hacker-news/src/favoriteContext.js",[],"/Users/vaishnaviravichandran/Desktop/React/hacker-news/src/story.js",["57","58","59"],"import React from \"react\"\nimport Favorite from \"./favorite\"\nimport {Link} from \"react-router-dom\"\n\nimport calculateTime from \"./calculateTime\"\n\nimport {FavoriteContext} from \"./favoriteContext\"\nimport { useContext, useEffect, useState } from 'react';\n\n\nfunction Story({data,site,i}){\n\n    const {getCommentStory} = useContext(FavoriteContext)\n\n    function handleShowComments(){\n        getCommentStory(data,site,i)\n    }\n       \n    return(\n               \n        <div>\n            <h3 className=\"title\"><a href={data.url} target=\"_blank\">{i+1}.  {data.title} </a><span className=\"website\">{site }</span></h3>\n            <p className=\"details\">\n                {data.points} by {data.author} {calculateTime(data.created_at)} |\n              <Link to={`/item/id=${data.objectID}`}>  <span className=\"comments\" id=\"comment\" onClick={handleShowComments}> {data.num_comments} comments </span> </Link> |\n             <Favorite storyId={data.objectID} fullStory={data} />\n            </p>\n            <hr />\n        </div>\n     \n        )\n}\n\nexport default Story;\n","/Users/vaishnaviravichandran/Desktop/React/hacker-news/src/favorite.js",["60","61"],"import React from \"react\"\nimport {FavoriteContext} from \"./favoriteContext\"\nimport { useContext, useEffect, useState } from 'react';\n\nfunction Favorite({storyId,fullStory}){\n\n    const {handleFavoritedStory, removeFavoritedStory,objectIdArr} = useContext(FavoriteContext)\n\n   \n    function handleFavorites(event){\n       \n        if(!favorite){\n            handleFavoritedStory(fullStory,event.target.id) \n        }else{\n            console.log(event.target.id)\n            removeFavoritedStory(event.target.id)\n        }\n    }\n\n  let favorite = objectIdArr.find(elm => elm.objectID === storyId ).favorite\n\n    return( \n    <span className=\"fav-icon\" onClick={handleFavorites} id={storyId}> \n    { favorite ? \" ✖️  Remove From Favorites\" : \" ➕ Add to Favorites\"} \n    </span> )\n}\n\nexport default Favorite;\n","/Users/vaishnaviravichandran/Desktop/React/hacker-news/src/calculateTime.js",[],["62","63"],{"ruleId":"64","replacedBy":"65"},{"ruleId":"66","replacedBy":"67"},{"ruleId":"68","severity":1,"message":"69","line":38,"column":13,"nodeType":"70","messageId":"71","endLine":38,"endColumn":15},{"ruleId":"68","severity":1,"message":"69","line":40,"column":20,"nodeType":"70","messageId":"71","endLine":40,"endColumn":22},{"ruleId":"68","severity":1,"message":"69","line":42,"column":19,"nodeType":"70","messageId":"71","endLine":42,"endColumn":21},{"ruleId":"72","severity":1,"message":"73","line":56,"column":5,"nodeType":"74","endLine":56,"endColumn":7,"suggestions":"75"},{"ruleId":"76","severity":1,"message":"77","line":3,"column":8,"nodeType":"78","messageId":"79","endLine":3,"endColumn":16},{"ruleId":"72","severity":1,"message":"80","line":41,"column":7,"nodeType":"74","endLine":41,"endColumn":13,"suggestions":"81"},{"ruleId":"82","severity":1,"message":"83","line":59,"column":19,"nodeType":"84","endLine":59,"endColumn":23},{"ruleId":"76","severity":1,"message":"85","line":5,"column":8,"nodeType":"78","messageId":"79","endLine":5,"endColumn":13},{"ruleId":"72","severity":1,"message":"86","line":29,"column":7,"nodeType":"74","endLine":29,"endColumn":9,"suggestions":"87"},{"ruleId":"68","severity":1,"message":"69","line":41,"column":70,"nodeType":"70","messageId":"71","endLine":41,"endColumn":72},{"ruleId":"68","severity":1,"message":"69","line":45,"column":75,"nodeType":"70","messageId":"71","endLine":45,"endColumn":77},{"ruleId":"68","severity":1,"message":"69","line":47,"column":76,"nodeType":"70","messageId":"71","endLine":47,"endColumn":78},{"ruleId":"72","severity":1,"message":"86","line":64,"column":7,"nodeType":"74","endLine":64,"endColumn":20,"suggestions":"88"},{"ruleId":"89","severity":1,"message":"90","line":73,"column":39,"nodeType":"84","endLine":73,"endColumn":74},{"ruleId":"76","severity":1,"message":"91","line":8,"column":22,"nodeType":"78","messageId":"79","endLine":8,"endColumn":31},{"ruleId":"76","severity":1,"message":"92","line":8,"column":33,"nodeType":"78","messageId":"79","endLine":8,"endColumn":41},{"ruleId":"89","severity":1,"message":"90","line":22,"column":35,"nodeType":"84","endLine":22,"endColumn":70},{"ruleId":"76","severity":1,"message":"91","line":3,"column":22,"nodeType":"78","messageId":"79","endLine":3,"endColumn":31},{"ruleId":"76","severity":1,"message":"92","line":3,"column":33,"nodeType":"78","messageId":"79","endLine":3,"endColumn":41},{"ruleId":"64","replacedBy":"93"},{"ruleId":"66","replacedBy":"94"},"no-native-reassign",["95"],"no-negated-in-lhs",["96"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'links'. Either include it or remove the dependency array.","ArrayExpression",["97"],"no-unused-vars","'Favorite' is defined but never used.","Identifier","unusedVar","React Hook useEffect has a missing dependency: 'fillObjectIdArr'. Either include it or remove the dependency array.",["98"],"jsx-a11y/heading-has-content","Headings must have content and the content must be accessible by a screen reader.","JSXOpeningElement","'Story' is defined but never used.","React Hook useEffect has a missing dependency: 'itemID'. Either include it or remove the dependency array.",["99"],["100"],"react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","'useEffect' is defined but never used.","'useState' is defined but never used.",["95"],["96"],"no-global-assign","no-unsafe-negation",{"desc":"101","fix":"102"},{"desc":"103","fix":"104"},{"desc":"105","fix":"106"},{"desc":"107","fix":"108"},"Update the dependencies array to be: [links]",{"range":"109","text":"110"},"Update the dependencies array to be: [fillObjectIdArr, news]",{"range":"111","text":"112"},"Update the dependencies array to be: [itemID]",{"range":"113","text":"114"},"Update the dependencies array to be: [commentsArr, itemID]",{"range":"115","text":"116"},[1306,1308],"[links]",[1432,1438],"[fillObjectIdArr, news]",[873,875],"[itemID]",[1756,1769],"[commentsArr, itemID]"]